<div class="categories" id="categories">
  <div class="category" *ngFor="let category of categories" id="{{category.key}}" cdkDropList [cdkDropListConnectedTo]="getConnectedListForCategories()" (cdkDropListDropped)="drop($event, 'category')"> <!-- [cdkDropListEnterPredicate]="testPredicate" -->
    <span class="title">{{ category.key }}</span>

    <div class="item" *ngFor="let item of category.items" id="{{item.key}}" cdkDrag [cdkDragData]="item" cdkDropList [cdkDropListConnectedTo]="getConnectedListForItemsAndCategories()" (cdkDropListDropped)="drop($event, 'item')"> <!-- [cdkDropListEnterPredicate]="testPredicate" (cdkDragMoved)="dragMoved($event)" (cdkDragReleased)="dragReleased($event)" -->
      <span class="title">{{ item.key }}</span>

      <ng-container *ngIf="(item.children?.length ?? 0) > 0">
        <div class="item sub" *ngFor="let subItem of item.children" cdkDrag [cdkDragData]="subItem" cdkDropList [cdkDropListConnectedTo]="getConnectedListForItemsAndCategories()"> <!-- (cdkDragMoved)="dragMoved($event)" (cdkDragReleased)="dragReleased($event)" -->
          <span class="title">{{ subItem.key }}</span>
        </div>
      </ng-container>
    </div>
  </div>
</div>

<!-- <div class="categories" id="categories">
  <div class="category" *ngFor="let category of categories" id="{{category.key}}" cdkDropList [cdkDropListConnectedTo]="getConnectedListForCategories()" (cdkDropListDropped)="drop($event, 'category')" [cdkDropListEnterPredicate]="testPredicate">
    <span class="title">{{ category.key }}</span>

    <div class="item" *ngFor="let item of category.items" id="{{item.key}}" cdkDrag [cdkDragData]="item" cdkDropList [cdkDropListConnectedTo]="getConnectedListForItemsAndCategories()" (cdkDropListDropped)="drop($event, 'item')" [cdkDropListEnterPredicate]="testPredicate">
      <span class="title">{{ item.key }}</span>

      <ng-container *ngIf="(item.children?.length ?? 0) > 0">
        <div class="item sub" *ngFor="let subItem of item.children" cdkDrag [cdkDragData]="subItem" cdkDropList [cdkDropListConnectedTo]="getConnectedListForItemsAndCategories()">
          <span class="title">{{ subItem.key }}</span>
        </div>
      </ng-container>
    </div>
  </div>
</div> -->

<!-- https://stackblitz.com/edit/angular-cdk-nested-drag-drop-demo?file=src%2Fapp%2Fshared%2Fcomponents%2Flist-item%2Flist-item.html -->
<!-- https://stackblitz.com/edit/nested-connected-lists-gtckyc?file=app%2Fcdk-drag-drop-connected-sorting-group-example.html -->




<!-- https://stackblitz.com/edit/angular-cdk-nested-drag-drop-demo?file=src%2Fapp%2Fshared%2Fcomponents%2Flist-item%2Flist-item.html -->
<!-- https://stackblitz.com/edit/nested-connected-lists-gtckyc?file=app%2Fcdk-drag-drop-connected-sorting-group-example.html -->
